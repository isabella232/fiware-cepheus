<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="625" height="291"><source><![CDATA[participant IoT Agent as D
participant Cepheus Broker as B
participant Cepheus CEP as C
participant Orion Broker as A

C->B: subscribe
D->B: update
B->A: update (forward)
B->C: notify]]></source><desc>Created with RaphaÃ«l 2.1.2</desc><defs><path id="raphael-marker-block" stroke-linecap="round" d="M5,0 0,2.5 5,5z"/><marker id="raphael-marker-endblock55-obj282" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj285" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj288" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj291" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker></defs><rect width="107.4" height="38.5" x="10" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="87.4" height="18.5" x="20" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="63.7" y="39.25" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">IoT Agent</tspan></text><rect width="107.4" height="38.5" x="10" y="232.5" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="87.4" height="18.5" x="20" y="242.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="63.7" y="251.75" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">IoT Agent</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M63.70000076293945,58.5L63.70000076293945,232.5"/><rect width="155.4" height="38.5" x="137.4" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="135.4" height="18.5" x="147.4" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="215.1" y="39.25" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">Cepheus Broker</tspan></text><rect width="155.4" height="38.5" x="137.4" y="232.5" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="135.4" height="18.5" x="147.4" y="242.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="215.1" y="251.75" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">Cepheus Broker</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M215.0999984741211,58.5L215.0999984741211,232.5"/><rect width="126.6" height="38.5" x="312.8" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="106.6" height="18.5" x="322.8" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="376.1" y="39.25" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">Cepheus CEP</tspan></text><rect width="126.6" height="38.5" x="312.8" y="232.5" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="106.6" height="18.5" x="322.8" y="242.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="376.1" y="251.75" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">Cepheus CEP</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M376.0999946594238,58.5L376.0999946594238,232.5"/><rect width="136.2" height="38.5" x="459.4" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="116.2" height="18.5" x="469.4" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="527.5" y="39.25" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">Orion Broker</tspan></text><rect width="136.2" height="38.5" x="459.4" y="232.5" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="116.2" height="18.5" x="469.4" y="242.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="527.5" y="251.75" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">Orion Broker</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M527.4999923706055,58.5L527.4999923706055,232.5"/><rect width="87.4" height="18.5" x="251.9" y="74.25" fill="#fff" stroke="none" rx="0" ry="0"/><text x="295.6" y="83.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">subscribe</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj282)" d="M376.0999946594238,97C376.0999946594238,97,247.2700263984152,97,220.0949549683587,97"/><rect width="58.6" height="18.5" x="110.1" y="112.75" fill="#fff" stroke="none" rx="0" ry="0"/><text x="139.4" y="122" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">update</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj285)" d="M63.70000076293945,135.5C63.70000076293945,135.5,183.92414698047742,135.5,210.1057725727733,135.5"/><rect width="154.6" height="18.5" x="294" y="151.25" fill="#fff" stroke="none" rx="0" ry="0"/><text x="371.3" y="160.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">update (forward)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj288)" d="M215.0999984741211,174C215.0999984741211,174,482.4254637226313,174,522.4981775074422,174"/><rect width="58.6" height="18.5" x="266.3" y="189.75" fill="#fff" stroke="none" rx="0" ry="0"/><text x="295.6" y="199" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.75">notify</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj291)" d="M215.0999984741211,212.5C215.0999984741211,212.5,343.9299667351297,212.5,371.1050381651862,212.5"/></svg>