<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="718" height="577"><source><![CDATA[run.sh->Cepheus CEP: POST /admin/config
Cepheus CEP->Cepheus Broker: subscribe(Room.*)
run.sh->Cepheus Broker: update(Room11, 22°)
Cepheus Broker->Orion: update(Room11, 22°)
Cepheus Broker->Cepheus CEP: notify(Room11, 22°)
run.sh->Cepheus Broker: update(Room12, 24°)
Cepheus Broker->Orion: update(Room12, 24°)
Cepheus Broker->Cepheus CEP: notify(Room12, 24°)
Note over Cepheus CEP: computes floor average
Cepheus CEP->Cepheus Broker: update(Floor1, 23°)
Cepheus Broker->Orion: update(Floor1, 23°)]]></source><desc>Created with Raphaël 2.1.2</desc><defs><path id="raphael-marker-block" stroke-linecap="round" d="M5,0 0,2.5 5,5z"/><marker id="raphael-marker-endblock55-obj17769" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17772" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17775" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17778" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17781" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17784" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17787" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17790" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17796" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker><marker id="raphael-marker-endblock55-obj17799" markerHeight="5" markerWidth="5" orient="auto" refX="2.5" refY="2.5"><use fill="#000" stroke="none" stroke-width="1" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"/></marker></defs><rect width="79.6" height="39" x="10" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="59.6" height="19" x="20" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="49.8" y="39.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">run.sh</tspan></text><rect width="79.6" height="39" x="10" y="518" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="59.6" height="19" x="20" y="528" fill="#fff" stroke="none" rx="0" ry="0"/><text x="49.8" y="537.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">run.sh</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M49.79999923706055,59L49.79999923706055,518"/><rect width="127.6" height="39" x="180.8" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="107.6" height="19" x="190.8" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="244.6" y="39.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">Cepheus CEP</tspan></text><rect width="127.6" height="39" x="180.8" y="518" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="107.6" height="19" x="190.8" y="528" fill="#fff" stroke="none" rx="0" ry="0"/><text x="244.6" y="537.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">Cepheus CEP</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M244.60000228881836,59L244.60000228881836,518"/><rect width="156.4" height="39" x="370.8" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="136.4" height="19" x="380.8" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="449" y="39.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">Cepheus Broker</tspan></text><rect width="156.4" height="39" x="370.8" y="518" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="136.4" height="19" x="380.8" y="528" fill="#fff" stroke="none" rx="0" ry="0"/><text x="449" y="537.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">Cepheus Broker</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M448.99999618530273,59L448.99999618530273,518"/><rect width="70" height="39" x="618.4" y="20" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="50" height="19" x="628.4" y="30" fill="#fff" stroke="none" rx="0" ry="0"/><text x="653.4" y="39.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">Orion</tspan></text><rect width="70" height="39" x="618.4" y="518" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="50" height="19" x="628.4" y="528" fill="#fff" stroke="none" rx="0" ry="0"/><text x="653.4" y="537.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">Orion</tspan></text><path fill="none" stroke="#000" stroke-width="2" d="M653.3999900817871,59L653.3999900817871,518"/><rect width="174.8" height="19" x="59.8" y="74.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="147.2" y="84" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">POST /admin/config</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17769)" d="M49.79999923706055,98C49.79999923706055,98,209.14126459242402,98,239.60127698823692,98"/><rect width="165.2" height="19" x="264.2" y="113.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="346.8" y="123" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">subscribe(Room.*)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17772)" d="M244.60000228881836,137C244.60000228881836,137,412.6524263745159,137,443.998142195188,137"/><rect width="184.4" height="19" x="157.2" y="152.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="249.4" y="162" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">update(Room11, 22°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17775)" d="M49.79999923706055,176C49.79999923706055,176,398.01465506191266,176,444.0068740075291,176"/><rect width="184.4" height="19" x="459" y="191.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="551.2" y="201" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">update(Room11, 22°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17778)" d="M448.99999618530273,215C448.99999618530273,215,617.0524202710003,215,648.3981360916724,215"/><rect width="184.4" height="19" x="254.6" y="230.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="346.8" y="240" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">notify(Room11, 22°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17781)" d="M448.99999618530273,254C448.99999618530273,254,280.94757209960517,254,249.60185627893307,254"/><rect width="184.4" height="19" x="157.2" y="269.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="249.4" y="279" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">update(Room12, 24°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17784)" d="M49.79999923706055,293C49.79999923706055,293,398.01465506191266,293,444.0068740075291,293"/><rect width="184.4" height="19" x="459" y="308.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="551.2" y="318" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">update(Room12, 24°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17787)" d="M448.99999618530273,332C448.99999618530273,332,617.0524202710003,332,648.3981360916724,332"/><rect width="184.4" height="19" x="254.6" y="347.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="346.8" y="357" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">notify(Room12, 24°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17790)" d="M448.99999618530273,371C448.99999618530273,371,280.94757209960517,371,249.60185627893307,371"/><rect width="223.2" height="29" x="133" y="391" fill="none" stroke="#000" stroke-width="2" rx="0" ry="0"/><rect width="213.2" height="19" x="138" y="396" fill="#fff" stroke="none" rx="0" ry="0"/><text x="244.6" y="405.5" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">computes floor average</tspan></text><rect width="184.4" height="19" x="254.6" y="435.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="346.8" y="445" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">update(Floor1, 23°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17796)" d="M244.60000228881836,459C244.60000228881836,459,412.6524263745159,459,443.998142195188,459"/><rect width="184.4" height="19" x="459" y="474.5" fill="#fff" stroke="none" rx="0" ry="0"/><text x="551.2" y="484" fill="#000" stroke="none" font-family="Andale Mono, monospace" font-size="16" text-anchor="middle" style="text-anchor:middle;font-family:Andale Mono,monospace;font-size:16px"><tspan dy="5.5">update(Floor1, 23°)</tspan></text><path fill="none" stroke="#000" stroke-dasharray="0" stroke-width="2" marker-end="url(#raphael-marker-endblock55-obj17799)" d="M448.99999618530273,498C448.99999618530273,498,617.0524202710003,498,648.3981360916724,498"/></svg>